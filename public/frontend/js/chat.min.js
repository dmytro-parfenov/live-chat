function sendNotification(i,o){function e(){window.focus(),this.close()}if("granted"===Notification.permission){var n=new Notification(i,o);n.onclick=e}else"denied"!==Notification.permission&&Notification.requestPermission(function(n){if("granted"===n){var t=new Notification(i,o);t.onclick=e}})}$(document).ready(function(){}),$(window).on("load",function(){"Notification"in window?Notification.requestPermission():console.log("Your browser does not support HTML5 Notifications");var i=new Pusher("5ccc3f2a7680d594a7dc",{encrypted:!0}),o=i.subscribe("new-message-channel");o.bind("new-message-event",function(i){$("html, body").animate({scrollTop:$(document).height()},500),$(".message-block").last().after(i.html),$(".message-block").last().hide(),$(".message-block").last().fadeIn(500),$.ajax({type:"GET",url:"/get-cookie-user-id",success:function(o){o=parseInt(o),o!==i.user_id&&(soundNotification("frontend/sounds/get-message.wav"),sendNotification(i.user_name,{body:i.message,icon:"favicon.ico",dir:"auto"}))}})})});