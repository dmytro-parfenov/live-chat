function sendNotification(n,o){function i(){window.focus(),$("html, body").animate({scrollTop:$(document).height()},500),this.close()}if("granted"===Notification.permission){var e=new Notification(n,o);e.onclick=i}else"denied"!==Notification.permission&&Notification.requestPermission(function(e){if("granted"===e){var t=new Notification(n,o);t.onclick=i}})}$(document).ready(function(){}),$(window).on("load",function(){"Notification"in window?Notification.requestPermission():console.log("Your browser does not support HTML5 Notifications");var n=new Pusher("5ccc3f2a7680d594a7dc",{encrypted:!0}),o=n.subscribe("new-message-channel");o.bind("new-message-event",function(n){$("html, body").animate({scrollTop:$(document).height()},500),$(".message-block").last().after(n.html),$(".message-block").last().hide(),$(".message-block").last().fadeIn(500),document.hidden&&(soundNotification("frontend/sounds/get-message.wav"),sendNotification(n.user_name,{body:n.message,icon:"favicon.ico",dir:"auto"}))});var i=n.subscribe("new-user-channel");i.bind("new-user-event",function(n){soundNotification("frontend/sounds/get-message.wav"),sendNotification("New user connected",{body:n,icon:"favicon.ico",dir:"auto"})})});